# Import the requests and sys modules to use their functionalities
import requests
import sys

# Open and read a file called "subdomains.txt" which contains a list of subdomains
sub_list = open("subdomains.txt").read()

# Split the contents of the file into a list of subdomains, one per line
subdoms = sub_list.splitlines()

# Iterate through the list of subdomains
for sub in subdoms:
    # Construct a full URL using the subdomain and the domain provided as a command-line argument (sys.argv[1])
    sub_domains = f"http://{sub}.{sys.argv[1]}"

    # Try to send an HTTP GET request to the constructed URL
    try:
        requests.get(sub_domains)
    
    # If a requests.ConnectionError occurs (e.g., the subdomain doesn't exist), continue to the next subdomain
    except requests.ConnectionError:
        pass
    
    # If no exception is raised, it means the URL is valid, so print it as a valid domain
    else:
        print("Valid domain: ", sub_domains)
